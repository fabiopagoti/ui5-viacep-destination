sap.ui.define(["sap/ui/core/mvc/Controller"], function (Controller) {
	"use strict";
	return Controller.extend("alfaerp.viacep.controller.View1", {

		onInit: function () {
			var sURL = "/viacep/01001000/json/";
			var oModelo = new sap.ui.model.json.JSONModel(sURL);
			// this._oModel = oModelo;
			this.getView().setModel(oModelo);

			var oViewModel = new sap.ui.model.json.JSONModel({
				termoBusca: ""
			});
			this.getView().setModel(oViewModel, "view");
		},

		// onSearch: function (oEvent) {
		// 	//This code was generated by the layout editor.
		// 	var sCep = oEvent.getParameters().query;
		// 	var sUrl = `https://viacep.com.br/ws/${sCep}/json/`;
		// 	this.getView().getModel().loadData(sUrl);
		// 	// this._oModel
		// }

		onSearch: function (oEvent) {
			//This code was generated by the layout editor.
			var sCep = this.getView().getModel("view").getProperty("/termoBusca");
			// var sUrl = `/viacep/${sCep}/json/`;
			var sUrl = "/viacep/" + sCep + "/json/";
			this.getView().getModel().loadData(sUrl);
			// this._oModel
		}
	});
});